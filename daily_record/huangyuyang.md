## 7.8

#### 前端处理weibo授权

- 尝试使用`Oauth2/authorize`与`oauth2/access_token`接口处理微博授权
- 使用`authorize`接口时碰到跨域问题，转而使用postman直接发送请求，页面问题较多，重定向也问题连连，未果。
- 前端直接使用axios发送post请求，出现问题较多较为杂乱，且同组杨亘尝试别的微博爬虫有进展，暂时先放一放前端weibo授权。
- 考虑先配置好Nginx，后统一解决代理跨域问题，进而完成后续第三方授权功能。

#### Docker+Nginx部署React前端到云服务器

- 架构：
  - 腾讯云服务器
    - 配置：1核 | 2GB | 1Mbps | 系统盘：高性能云硬盘 | 网络：Default-VPC
    - 公网IP：49.234.125.131
    - 内网IP：172.17.0.12
    - OS：CentOS 7 
  - 容器：docker + docker compose
    - 使用国内源加速 `https://registry.docker-cn.com`
  - 反向代理：Nginx
    - TODO：跨域（weibo、alipay等）

- 暂时部署在云服务器上

#### 后续工作

1. 跨域代理，第三方授权
2. 与后端同学商量api接口，统一对应用功能的认知
3. 确定后续前端组件切分方向，完善逻辑（这是个长远的计划）
4. 下周初步安排：查查负载均衡和单元测试、压测方法，在前端先尝试，后续写成文档可以用于同组成员参考。

## 7.9

#### 研究Nginx跨域

#### alipay
- 在支付宝开放中心注册应用，并生成公钥私钥
- npm搭载alipay-SDK
- 不会，好难

## 7.10
#### 跨域
- 在`package.json`中配置相关proxy
- 在Nginx中配置相关结构

#### 划分zhihu DataTable部分
- 细化前端，参考`ilife_frontend/src/contents/zhihuBodyContent.js`即可
  - 表格分页
  - 表格search搜索
  - 样式模板整理

## 7.11 
#### 周六快乐玩耍
- 简单思考了下前后端接通前端的工作

## 7.12
#### 前后端调通
- CORS 问题与后端同学协调解决
  - 这一块本来觉得还比较简单，但是实际上操作的时候会发现出现的细节问题比较多，且远程协调非常耗时（毕竟前后端只能异步调通）
  - 怎么说，bug总是在意想不到的时候冒出来
  - CORS 后期写一篇文档出来
- 前端跑通
  - 登录
  - 验证码二次登录
  - 表格显示
- base64验证码转码
  - 这个算比较简单的

## 7.13
#### 前端展示知乎动态 
- 现在的请求是异步的，数据较多的时候延时较长，这一块怎么办？
#### 部署
- 最新版本可以在网站上看到
#### TODO
- 第二周工作
  - 单元测试
  - 完成微博、网易云、支付宝等功能，优化知乎体验
  - 文档整理

- 后续工作
  - 数据分析？？搜索资料
  - 研究echart

## 7.14 
#### jest & react官方测试库
- 配置环境
- 简单测试

#### 增加后端接口
- 与杨亘新完成的接口对接


## 7.15

#### 测试代码编写

## 7.16

上午面试
#### 功能修改
- 微博后端api

## 7.17
- jest + enzyme 版本问题出现错误，debug...
- 下午面试
- 学习jest文档，查看enzyme与原生test的区别

## 周末 7.18-7.19
- 1.5倍速课程视频，新增`NFR.md`文档
- 很多细节部分的debug
- 解决测试问题


## 7.20
- 测试跑通
- 对接网易云


## 第三周计划

- 前端爬虫（支付宝和淘宝，和zxy分工，在前端完成爬虫）
- 整合到现有代码中
- 调通（！！！）网易云、微博
  
## 7.21
- 与xtl商议b站功能，设计接口
- 参考github上示例代码，用postman和在线QRcode可以实现二维码第三方登录，但是限制于浏览器的同源协议，而正巧b站取消了第三方应用的注册接口，故而纯前端登录行不通
- 查看代理跨域方式，可以在后端获取api或是用Nginx搭建一个微型第三方服务器转发接口来解决。（https://juejin.im/post/5d1ecb96f265da1b6d404433）

- 浪费不少时间，很羞愧，不过的确搞懂了前端能见到的跨域问题及其解答方案

## 7.22
- 学习web安全Security
- wyy前端
- bilibili前端（除了与后端接口还未确定，其余部分设计完成）

## 7.22
- 学习web安全Security
- wyy前端
- bilibili前端（除了与后端接口还未确定，其余部分设计完成）

## 7.23
- unit 测试
  - 踩坑：mock，这里需要理清楚异步的流程

## 7.24
- cypress 测试
  - 配置环境
  - 仿照example编写测试用例

## 7.25 & 7.26
- 测试及前端页面编写
- security调试

## 7.27
- 解决security问题